{"version":3,"sources":["componets/Answer.js","App.js","index.js"],"names":["style","borderRadius","borderColor","Answer","answer","next","go","size","onClick","asideContent","mode","multiline","textAlign","api","VKMiniAppAPI","osname","platform","url","url_photo","App","props","get_my_projects","setState","load","axios","post","JSON","stringify","window","location","href","event","offset","state","offse_my_projects","then","res","console","log","create_story","bool","data","concat","length","onChange","e","currentTarget","name","value","form","popout","push","project_id","activeModal","description","fandom","count","answer_1","answer_2","answer_3","create_route","img","obj","text","id","tree_story","unshift","setNext","next_route","t","i","current_route","current_next","new_obj","next_1","next_2","next_3","splice","activeView","loadImage","file","reader","FileReader","input","document","getElementById","files","type","readAsDataURL","onload","result","snackbar","onClose","loadImageEditor","form_edit","new_img","loadImageEditStory","activePanel","watch","offset_tree","get_fandoms","page","q","fandoms","loadOffset","response","onSet","save_edit_route","delete_route","delete_project","onChangeSearch","onChangeSearchProject","string","filter_type","all_story","offset_all_story","get_search_by_filter","get_more_story","more","set_view","u","view","go_menu","autoclose","pre_edit_story","before","IOS","goTo","getUserInfo","userInfo","allowCommunityMessages","sendPayloadToCommunity","user_id","on","save_story","check_lenght_answer","st","activeTab","settings","this","header","modal","right","dynamicContentHeight","settlingHeight","top","align","src","accept","placeholder","disabled","margin","step","max","min","bottom","left","fill","selected","color","marginTop","action","map","key","story_id","indicator","icon","onIconClick","story","aside","fontSize","fontWeight","padding","photo_200","user","Fragment","defaultChecked","seperator","React","Component","bridge","send","ReactDOM","render"],"mappings":"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","file":"static/js/main.8205fe40.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Cell, Card, Counter, Button } from '@vkontakte/vkui';\r\nimport { render } from 'react-dom';\r\n\r\nconst style= {\r\n     borderRadius:'30%',\r\n     borderColor:'black'\r\n}\r\n\r\nconst Answer = ({answer, next, go}) =>(\r\n          <Card size='l'>\r\n            <div style={style}>\r\n             <Cell onClick={go} asideContent={<Counter mode={next == null || next == 0 ? \"prominent\":\"primary\"}>{next == null || next == 0 ? '!':next}</Counter>} multiline style={{textAlign:'left'}}>{answer}</Cell>    \r\n            </div>\r\n        </Card>\r\n\r\n        )\r\n\r\nexport default Answer;","import Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\nimport Icon28WriteOutline from '@vkontakte/icons/dist/28/write_outline';\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\nimport Icon24Add from '@vkontakte/icons/dist/24/add';\nimport Icon28DeleteOutlineAndroid from '@vkontakte/icons/dist/28/delete_outline_android';\nimport Icon28AddOutline from '@vkontakte/icons/dist/28/add_outline';\nimport Icon28SettingsOutline from '@vkontakte/icons/dist/28/settings_outline';\nimport Icon28DeleteOutline from '@vkontakte/icons/dist/28/delete_outline';\nimport Icon28EditOutline from '@vkontakte/icons/dist/28/edit_outline';\nimport Icon24Filter from '@vkontakte/icons/dist/24/filter';\nimport Icon28HideOutline from '@vkontakte/icons/dist/28/hide_outline';\nimport Icon28ViewOutline from '@vkontakte/icons/dist/28/view_outline';\nimport Icon24Article from '@vkontakte/icons/dist/24/article';\nimport { VKMiniAppAPI } from '@vkontakte/vk-mini-apps-api';\n\n\nimport {platform, IOS, Avatar, Button, Card, CardGrid, Cell, CellButton, Div, File, FormLayout, FormLayoutGroup, Group, Header, Input, List, ModalPage, ModalPageHeader, ModalRoot, Panel, PanelHeaderBack, PanelHeaderSimple, Placeholder, Root, ScreenSpinner, Search, Select, SelectMimicry, Slider, Spinner, Tabs, TabsItem, Textarea, View, Snackbar, ActionSheetItem, PanelHeaderButton, Switch, ActionSheet, Counter, FormStatus, Link } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport axios from 'axios';\nimport React from 'react';\nimport Answer from './componets/Answer';\n\n// Creating API instance\nconst api = new VKMiniAppAPI();\nconst osname = platform();\nconst url = \"https://api-bot-php.000webhostapp.com/api/\";\nconst url_photo = \"https://api-bot-php.000webhostapp.com/\"\n\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state  = {\n\t\t   activeView:'main',\n\t\t   activePanel:'main',\n\t\t   activeTab:'user',\n\t\t   snackbar:null,\n\t\t   create_story:null,\n\t\t   all_story:null,\n\t\t   tree_story:null,\n\t\t   watch:0,\n\t\t   load:false,\n\t\t   page:0,\n\t\t   offset_all_story:0,\n\t\t   offse_my_projects:0,\n\t\t   offset_tree:0,\n\t\t   fandoms:null,\n\t\t   form:{\n\t\t\t   name:\"\",\n\t\t\t   description:\"\",\n\t\t\t   fandom:null,\n\t\t\t   count:0,\n\t\t\t   answer_1:\"\",\n\t\t\t   answer_2:\"\",\n\t\t\t   answer_3:\"\"\n\t\t   },\n\t\t   form_edit:{\n                \n\t\t   },\n\t\t   filter_type:\"\",\n\t\t   string:\"\",\n\t\t   current_route:null,\n\t\t   current_next:null,\n\t\t   settings:{}\n\t\t}\n\t} \n\t   \n\t   componentDidMount() {\n          axios.post(url, JSON.stringify({url:window.location.href, event:'get_my_create_projects',offset:this.state.offse_my_projects})).then(res=>{\n\t\t\t  console.log(res);\n\t\t\t  this.setState({create_story:res.data})\n\t\t  })\n\t\t  axios.post(url, JSON.stringify({event:'get_projects_search', url:window.location.href, page:0, q:\"\"}))\n\t\t  .then(data=>{\n\t\t\t  console.log(data);\n\t\t\t  this.setState({all_story:data.data, offset_all_story:1});\n\t\t  })\n\t   }\n\n\t   get_my_projects = () => {\n\t\t   this.setState({load:true});\n\t\taxios.post(url, JSON.stringify({url:window.location.href, event:'get_my_create_projects', offset:this.state.offse_my_projects})).then(res=>{\n\t\t\tconsole.log(res);\n\t\t\tthis.setState({create_story:{bool:res.data.bool,data:this.state.create_story.data.concat(res.data.data)}, load:false});\n\t\t\tif(res.data.data.length !== 0) {\n\t\t\t\tthis.setState({offse_my_projects:this.state.offse_my_projects+1})\n\t\t\t}\n\t\t})\n\t   }\n\n\t   onChange = (e) => {\n\t\t   const {name, value} = e.currentTarget;\n\t\t   this.setState({form:{ \n\t\t\t ...this.state.form,\n\t\t\t [name]:value\n\t\t\t}\n\t\t})\n\t   }\n\n\t   create_story = (e) => {\n        this.setState({popout:<ScreenSpinner />});\n\t\taxios.post(url,JSON.stringify({event:'create_project', ...this.state.form, url:window.location.href})).then(data => {\n\t\t\tconsole.log(data);\n\t\t\tthis.state.create_story.data.push({...this.state.form,project_id:data.data})\n\t\t\tthis.setState({activeModal:null,popout:null,form:{\n\t\t\t\tname:\"\",\n\t\t\t\tdescription:\"\",\n\t\t\t\tfandom:null,\n\t\t\t\tcount:0,\n\t\t\t\tanswer_1:\"\",\n\t\t\t\tanswer_2:\"\",\n\t\t\t\tanswer_3:\"\"}});\n\t\t})\n\n\n\t   }\n\n\t   create_route = (e) => {\n\t\t   this.setState({popout:<ScreenSpinner />})\n\t\t   const { form } = this.state; \n\t\t   let bool;\n\t\tif(form.img == null) {\n          bool = 0;\n\t\t}else bool=1;\n\t\tlet obj = {text:form.text, img:bool};\n\t\tif(form.count >= 1) {\n\t\t\tobj.answer_1 = form.answer_1;\n\t\t}\n\t\tif(form.count >= 2) {\n\t\t\tobj.answer_2 = form.answer_2;\n\t\t}\n\t\tif(form.count >= 3) {\n\t\t\tobj.answer_3 = form.answer_3;\n\t\t}\n\t\tobj.project_id = this.state.project_id;\n\t\tobj.count = form.count;\n\t\taxios.post(url, JSON.stringify({event:'create_route', url:window.location.href, ...form, project_id:this.state.project_id}))\n\t\t.then(res=>{\n\t\t\tconsole.log(res);\n\t\t\tobj.id = res.data;\n\t\t\tthis.state.tree_story.data.unshift(obj);\n\t\t\tthis.setState({popout:null,activeModal:null, form:{\n\t\t\t\tname:\"\",\n\t\t\t\tdescription:\"\",\n\t\t\t\tfandom:null,\n\t\t\t\tcount:0,\n\t\t\t\tanswer_1:\"\",\n\t\t\t\tanswer_2:\"\",\n\t\t\t\tanswer_3:\"\"\n\t\t\t},});\n\t\t})\n        console.log(this.state.tree_story);\n\t   }\n\n\t   setNext = (next_route) => {\n\t\t   this.setState({popout:<ScreenSpinner />})\n\t\t let t;\n\t\t for(let i = 0; i < this.state.tree_story.data.length;i++) {\n\t\t\t if(this.state.tree_story.data[i].id == this.state.current_route) {\n\t\t\t\tt = i;\n\t\t\t\tbreak;\n\t\t\t }\n\t\t }\n\t\t  axios.post(url, JSON.stringify({event:'setNext',url:window.location.href, project_id:this.state.project_id, id:this.state.current_route, next_route:next_route,next:this.state.current_next}))\n\t\t  .then(data=>{\n\t\t\t  console.log(data);\n\t\t\t  let new_obj = this.state.tree_story.data[t];\n\t\t\t  console.log(new_obj);\n\t\t\t  \n\t\t\t  switch (this.state.current_next) {\n\t\t\t\t  case 1:\n\t\t\t\t\t new_obj.next_1 = next_route;\n\t\t\t\t  break;\n\t \n\t\t\t\t  case 2:\n\t\t\t\t\t new_obj.next_2 = next_route;\n\t\t\t\t  break;\n\t \n\t\t\t\t  case 3:\n\t\t\t\t\t new_obj.next_3 = next_route;\n\t\t\t\t  break;\n\t\t\t  }\n\t\t\t  this.state.tree_story.data.splice(t, 1, new_obj);\n\t\t\t  this.setState({activeView:'main', popout:null});\n\t\t  })\n\n\t   }\n\n\t   loadImage = (file) => {\n\t\tlet reader = new FileReader();\n\t\tlet input = document.getElementById(file).files[0];\n        console.log(input);\n\t\t\n\t\tif(typeof(input) != 'undefined') {\n\t\t\tconsole.log(input.type);\n\t\t\t\n\t\t  if(input.type == 'image/png'|| input.type == 'image/jpeg'){\n\t\treader.readAsDataURL(input)\n\t\treader.onload = () => {\n\t\t\tthis.setState({form:{...this.state.form, img:reader.result}})\n\t\t     }\n\t      }else this.setState({snackbar:<Snackbar onClose={()=>this.setState({snackbar:null})}>Не поддерживаемы тип  файла</Snackbar>})\n\t    }else this.setState({snackbar:<Snackbar onClose={()=>this.setState({snackbar:null})}>Вы не выбрали файл</Snackbar>})\n\t   }\n\n\t   loadImageEditor = () => {\n\t\tlet reader = new FileReader();\n\t\tlet input = document.getElementById(\"image_editor\").files[0];\n\t\tif(typeof(input) != 'undefined') {\n\t\t  reader.readAsDataURL(input)\n\t\t  reader.onload = () => {\n\t\t\tthis.setState({form_edit:{...this.state.form_edit,img:1, new_img:reader.result}})\n\t\t  } \n\t    }\n\t   }\n\n\t   loadImageEditStory = () => {\n\t\tlet reader = new FileReader();\n\t\tlet input = document.getElementById(\"image_edit_story\").files[0];\n        console.log(input);\n\t\t\n\t\tif(typeof(input) != 'undefined') {\n\t\t\tconsole.log(input.type);\n\t\t\t\n\t\t  if(input.type == 'image/png'|| input.type == 'image/jpeg'){\n\t\treader.readAsDataURL(input)\n\t\treader.onload = () => {\n\t\t\tthis.setState({form_edit:{...this.state.form_edit, img:reader.result}})\n\t\t     }\n\t      }else this.setState({snackbar:<Snackbar onClose={()=>this.setState({snackbar:null})}>Не поддерживаемы тип  файла</Snackbar>})\n\t\t}else this.setState({snackbar:<Snackbar onClose={()=>this.setState({snackbar:null})}>Вы не выбрали файл</Snackbar>})\n\t\t\n\t   }\n\n\t   load = (id, i) => {\n\t\tthis.setState({activePanel:'tree_story'});\n\t\taxios.post(url, JSON.stringify({event:'get_routes',project_id:id, url:window.location.href, offset:0}))\n\t\t.then(data=>{\n\t\t\tconsole.log(data);\n\t\t\tthis.setState({project_id:id, tree_story:data.data,watch:i, offset_tree:1})\n\t\t})\n\t}   \n\n\t    get_fandoms = (e) => {\n     \n\t\t\taxios.post(url, JSON.stringify({event:\"search\", page:this.state.page,q:this.state.q, url:window.location.href})).then(data=>{\n\t\t\t\tconsole.log(data);\n                 if(this.state.page == 0) {\n\t\t\t\t\t this.setState({fandoms:data.data, page:1});\n\t\t\t\t }\n\t\t\t\tthis.setState({fandoms:{...this.state.fandoms, data:this.state.fandoms.data.concat(data.data)}, page:this.state.page+1})\n\t\t\t})\n\t\t}\n\n\t    loadOffset = () => {\n\t\tthis.setState({load:true});\n\t\t   axios.post(url, JSON.stringify({event:'get_routes', project_id:this.state.project_id, url:window.location.href, offset:this.state.offset_tree}))\n\t\t   .then((response) => {\n\t\t\t   console.log(response);\n\t\t\t   this.setState({load:false})\n\t\t\t   if(response.data.data.length > 0){\n\t\t\t\t this.setState({offset_tree:this.state.offset_tree+1, tree_story:{bool:response.data.bool,data:this.state.tree_story.data.concat(response.data.data)}})\n\t\t\t   }\n\t\t   })\n\t\t}\n\n\t    onSet = (e) => {\n\t\t\tconst {name, value} = e.currentTarget;\n\t\t\tthis.setState({form_edit:{...this.state.form_edit, [name]:value}})\n\t\t}\n\n\t\tsave_edit_route = (e) => {\n\t\t\tthis.setState({popout:<ScreenSpinner />})\n\t\t\tlet t;\n\t\t\tfor(let i = 0;i < this.state.tree_story.data.length; i++) {\n\t\t\t\tif(this.state.tree_story.data[i].id == this.state.form_edit.id) {\n\t\t\t\t   t = i;\n\t\t\t\t   break;\n\t\t\t\t}\n\t\t\t}\n\t\t\taxios.post(url, JSON.stringify({event:'set_route', ...this.state.form_edit, url:window.location.href})).then(data=>{\n\t\t\t\t console.log(data);\n\t\t\t\t \n\t\t\t\tthis.state.tree_story.data.splice(t, 1, this.state.form_edit);\n\t\t\t\tthis.setState({activeModal:null, popout:null});\n\t\t\t})\n\t\t\t\n\t\t}\n\n\t\tdelete_route = () => {\n\t\t\tthis.setState({popout:<ScreenSpinner />})\n\t\t\tlet t;\n\t\t\tfor(let i = 0;i < this.state.tree_story.data.length; i++) {\n\t\t\t\tif(this.state.tree_story[i].data.id == this.state.form_edit.id) {\n\t\t\t\t   t = i;\n\t\t\t\t   break;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\taxios.post(url, JSON.stringify({event:'delete_route', ...this.state.form_edit, url:window.location.href})).then(res=>{\n             console.log(res);\n\t\t\t this.state.tree_story.data.splice(t, 1);\n\t\t\t this.setState({activeModal:null, popout:null});\n\t\t\t})\n\t\t}\n\n\t\tdelete_project = () => {\n\t\t\tthis.setState({ popout:<ScreenSpinner />});\n\t\t\tlet i;\n\t\t\tfor(let t = 0; t < this.state.create_story.data.length;t++){\n\t\t\t\tif(this.state.create_story.data[t].project_id == this.state.project_id) {\n\t\t\t\t\ti = t;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\taxios.post(url, JSON.stringify({event:'delete_project',url:window.location.href, project_id:this.state.project_id}))\n\t\t\t.then((response) =>{\n\t\t\t\tconsole.log(response);\n\t\t\t\tthis.state.create_story.data.splice(i, 1);\n\t\t\t\tthis.setState({activePanel:'main', project_id: null, popout:null})\n\t\t\t})\n\t\t}\n\n\t\tonChangeSearch = (e) => {\n\t\t\t\tconst {name, value} = e.currentTarget;\n\t\t\t\tthis.setState({ [name]: value });\n\t\t\t\taxios.post(url, JSON.stringify({event:\"search\", q:value,page:0, url:window.location.href}))\n\t\t\t\t.then(data => {\n\t\t\t\t\tconsole.log(data);\n                    this.setState({fandoms:data.data, page:1, q:value})\n\t\t\t\t})\n\t\t} \n\t\t\n\t\tonChangeSearchProject = (e) => {\n\t\t\tthis.setState({string:e.currentTarget.value});\n\t\t\taxios.post(url, JSON.stringify({event:'get_projects_search', type:this.state.filter_type, fandom:this.state.form.fandom, q:e.currentTarget.value,offset:0, url:window.location.href})).then(data=>{\n\t\t\t\tconsole.log(data);\n\t\t \tthis.setState({all_story:data.data, offset_all_story:1});\n\t\t\t})\n\t\t}\n\n\t\tget_search_by_filter = () => {\n\t\t\taxios.post(url, JSON.stringify({event:'get_projects_search', type:this.state.filter_type, fandom:this.state.form.fandom, q:this.state.string, url:window.location.href, offset:0}))\n\t\t\t.then(res=>{\n\t\t\t\tconsole.log(res);\n\t\t\t\tthis.setState({all_story:res.data, offset_all_story:1, activeModal:null})\n\t\t\t})\n\t\t}\n\n\t\tget_more_story = () => {\n\t\t\taxios.post(url, JSON.stringify({event:'get_projects_search', type:this.state.filter_type, fandom:this.state.form.fandom, q:this.state.string, url:window.location.href, offset:this.state.offset_all_story}))\n\t\t\t.then(res=>{\n\t\t\t\tconsole.log(res);\n\t\t\t\tif(res.data.data.length != 0) {\n\t\t\t\t\tthis.setState({all_story:{more:res.data.more, data:this.state.all_story.data.concat(res.data.data)},offset_all_story:this.state.offset_all_story+1})\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t \n\t   set_view = (i) => {\n\t\t   let t;\n\t\t   for(let u = 0; u < this.state.create_story.data.length; u++) {\n              if(this.state.create_story.data[u].project_id == this.state.project_id){\n\t\t\t\t  t = u;\n\t\t\t\t  break;\n\t\t\t  }\n\t\t   }\n\t\t   let obj = this.state.create_story.data[t];\n\t\t   this.setState({popout:<ScreenSpinner />})\n\t\t  axios.post(url, JSON.stringify({event:'set_view', project_id:this.state.project_id, url:window.location.href, view:i}))\n\t\t  .then(data => {\n\t\t\t  console.log(data);\n\t\t\t  obj.watch = data.data;\n\t\t\t  this.state.create_story.data.splice(t, 1, obj)\n                this.setState({watch:data.data, popout:null})\n\t\t  })\n\t   }\n\n\t   go_menu = () => {\n\t\tthis.setState({ popout:\n\t\t\t<ActionSheet onClose={() => this.setState({ popout: null })}>\n\t\t\t  <ActionSheetItem autoclose onClick={this.pre_edit_story}>\n\t\t\t\tРедактировать\n\t\t\t  </ActionSheetItem>\n\t\t\t  {this.state.watch == 1 ?\n\t\t\t  <ActionSheetItem autoclose before={<Icon28HideOutline/>} onClick={()=>this.set_view(0)}>\n\t\t\t\tСкрыть из общего списка\n\t\t\t  </ActionSheetItem>:\n\t\t\t  <ActionSheetItem autoclose before={<Icon28ViewOutline/>} onClick={()=>this.set_view(1)}>\n\t\t\t\tПоказывать в общем списке\n\t\t\t\t</ActionSheetItem>\n\t\t}     \n\t\t        <ActionSheetItem autoclose before={<Icon28DeleteOutlineAndroid />} onClick={this.delete_project}>\n\t\t\t\tУдалить\n\t\t\t\t</ActionSheetItem>\n\t\t\t  {osname === IOS && <ActionSheetItem autoclose mode=\"cancel\">Отменить</ActionSheetItem>}\n\t\t\t</ActionSheet>\n\t\t  });\n\t   }\n\n\t   goTo = (i) => {\n\t  api.getUserInfo().then((userInfo) => {\n\t\tapi.allowCommunityMessages(123568924).then(() => {\n\t\t\tapi.sendPayloadToCommunity(123568924,{\"command\":\"input_story\", \"project_id\":i, user_id:userInfo.id})\n\t\t})}\n\t\t)\n\t   }\n\n\t   on = (e) => {\n\t\t   const {name, value} = e.currentTarget;\n\t\t   this.setState({[name]: value, offset_all_story:0});\n\t   }\n\n\n\t   pre_edit_story = ()=> {\n\t\t   let t;\n\t\t   for(let i = 0; i < this.state.create_story.data.length;i++) {\n             if(this.state.create_story.data[i].project_id == this.state.project_id) {\n\t\t\t\t t = i;\n\t\t\t\t break;\n\t\t\t }\n\t\t   }\n\t\t   this.setState({form_edit:this.state.create_story.data[t], form:{...this.state.form, fandom:this.state.create_story.data[t].fandom}, activeModal:'edit_story'});\n\n\t\t  \n\t   }\n\n\t   save_story = () => {\n\t\t   this.setState({popout:<ScreenSpinner />})\n\t\t   let t;\n\t\t   for (let i = 0; i < this.state.create_story.data.length;i++) {\n\t\t\t   if (this.state.create_story.data[i].project_id == this.state.project_id) {\n\t\t\t\t t = i;\n\t\t\t\t break;\n\t\t\t   }\n\t\t   }\n\t\t   let obj = this.state.form_edit;\n\t\n\t\t   \n\t\t   obj.fandom = this.state.form.fandom;\n\n\t\t   axios.post(url, JSON.stringify({event:'set_project',...obj, url:window.location.href}))\n\t\t   .then(res =>{\n\t\n\t\t\tthis.state.create_story.data.splice(t, 1, obj);\t\n\t\t\tthis.setState({activeModal:null, popout:null});\t\t\n\t\t   }\n\t\t\t)\n\t\t   \n\t   }\n\t   \n       check_lenght_answer = () => {\n\t\t   let st = true;\n            const { answer_1, answer_2, answer_3, count} = this.state.form;\n\t\t   switch(count) {\n\t\t\t   case 0:\n                 st = false;\n\t\t\t   break;\n\n\t\t\t   case 1:\n\t\t\t\t   if(answer_1 !== null && answer_1 !== \"\") {\n\t\t\t\t\t   if(answer_1.length < 40) { \n\t\t\t\t\t   st = false;\n\t\t\t\t\t   }\n\t\t\t\t   }\n\t\t\t   break;\t\n\n\t\t\t   case 2:\n\t\t\t\tif((answer_1 !== null && answer_1 !== \"\") && (answer_2 !== null && answer_2 !== \"\")) {\n\t\t\t\t\tif(answer_1.length < 40 && answer_2.length < 40) { \n\t\t\t\t\tst = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t  break;   \n\n\t\t\t  case 3:\n\t\t\t\tif((answer_1 !== null && answer_1 !== \"\") && (answer_2 !== null && answer_2 !== \"\") && (answer_3 !== null && answer_3 !== \"\")) {\n\t\t\t\t\tif(answer_1.length < 40 && answer_2.length < 40 && answer_3.length < 40) { \n\t\t\t\t\tst = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t   }\n\t\t console.log(st)\n\t\t return st;\n\t   }\n\n\t   render() {\n\t\t   const {activePanel, activeTab, activeModal, activeView, form, form_edit } = this.state;\n\t\treturn(\n\t\t<Root activeView={activeView}>\t\n\t\t   <View id=\"main\" activePanel={activePanel} popout={this.state.popout} header={false} modal={\n\t\t\t   <ModalRoot activeModal={activeModal}>\n\t\t\t\t   <ModalPage id=\"create_story\" header={<ModalPageHeader right={<Div><Icon24Dismiss onClick={() =>this.setState({activeModal:null})} /></Div>}>Создатель историй</ModalPageHeader>} onClose={()=>this.setState({activeModal:null})} dynamicContentHeight settlingHeight={100}>\n                      <FormLayout>\n\t\t\t\t\t\t  <FormLayoutGroup top=\"Фото\" align=\"center\">\n\t\t\t\t\t\t  {form.img == null ? null :\n\t\t\t\t\t\t  <Avatar src={form.img} size={72} mode='image'/>\n\t\t                  }\n\t\t\t\t\t\t  <File id='image_story' mode='outline' onChange={()=>this.loadImage(\"image_story\")} accept=\"image/jpeg,image/png\">Загрузить фото</File>\n\t\t\t\t\t\t  </FormLayoutGroup>\n\n\t\t\t\t\t\t  <FormLayoutGroup top=\"Назавание истории\">\n                           <Input name=\"name\" onChange={this.onChange} value={form.name}/>\n\t\t\t\t\t\t  </FormLayoutGroup>\n\n\t\t\t\t\t\t  <FormLayoutGroup top=\"Фандом\">\n\t\t\t\t\t\t  <SelectMimicry onClick={()=>{this.setState({activeView:'fandom'}); this.get_fandoms(0)}} placeholder=\"Не выбран\" >{form.fandom}</SelectMimicry>\n\t\t\t\t\t\t  </FormLayoutGroup>\n\n\t\t\t\t\t\t  <FormLayoutGroup top=\"Тип\">\n                           <Select name=\"type\" placeholder=\"Выбери тип\" onChange={this.onChange} value={form.type}>\n\t\t\t\t\t\t\t   <option value=\"book\"  onChange={this.onChange}>По книге</option>\n\t\t\t\t\t\t\t   <option value=\"film\"  onChange={this.onChange}>По фильму</option>\n\t\t\t\t\t\t\t   <option value=\"play\"  onChange={this.onChange}>По игре</option>\n\t\t\t\t\t\t\t   <option value=\"other\"  onChange={this.onChange}>Другое</option>\n\t\t\t\t\t\t   </Select>\n\t\t\t\t\t\t  </FormLayoutGroup>\n\n\t\t\t\t\t\t  <FormLayoutGroup top=\"Описание\">\n\t\t\t\t\t\t\t  <Textarea name='description' onChange={this.onChange} value={form.description}/>\n\t\t\t\t\t\t  </FormLayoutGroup>\n\n\n                         \n\t\t\t\t\t\t  <Button size=\"xl\" onClick={this.create_story} disabled={form.name == \"\"||form.type == null}>Создать!</Button>\n\t\t\t\t\t  </FormLayout>\n\t\t\t\t   </ModalPage>\n\n\t\t\t\t   <ModalPage id='edit_story' header={<ModalPageHeader right={<Div><Icon24Dismiss onClick={() =>this.setState({activeModal:null})} /></Div>}>Редоктировать</ModalPageHeader>} onClose={()=>this.setState({activeModal:null})} dynamicContentHeight settlingHeight={100}>\n\t\t\t\t\t<FormLayout>   \n\t\t\t\t   <FormLayoutGroup top=\"Фото\" align=\"center\">\n\t\t\t\t\t\t  {form_edit.img == null ? null :\n\t\t\t\t\t\t  <div>\n\t\t\t\t\t\t  <Avatar src={form_edit.img} size={72} mode='image'/>\n\t\t\t\t\t\t  <Button mode=\"destructive\" style={{margin:5}} onClick={()=>this.setState({form_edit:{ ...form_edit,img:null}})}><Icon24Dismiss /></Button>\n\t\t\t\t\t\t  </div>\n\t\t                  }\n\t\t\t\t\t\t  <File id='image_edit_story' mode='outline' onChange={this.loadImageEditStory} accept=\"image/jpeg,image/png\">Загрузить фото</File>\n\t\t\t\t\t\t  </FormLayoutGroup>\n\n\t\t\t\t\t\t  <FormLayoutGroup top=\"Назавание истории\">\n                           <Input name=\"name\" onChange={this.onSet} value={form_edit.name}/>\n\t\t\t\t\t\t  </FormLayoutGroup>\n\n\t\t\t\t\t\t  <FormLayoutGroup top=\"Фандом\">\n\t\t\t\t\t\t  <SelectMimicry onClick={()=>{this.setState({activeView:'fandom'}); this.get_fandoms(0)}} placeholder=\"Не выбран\" >{form.fandom}</SelectMimicry>\n\t\t\t\t\t\t  </FormLayoutGroup>\n\n\t\t\t\t\t\t  <FormLayoutGroup top=\"Тип\">\n                           <Select name=\"type\" placeholder=\"Выбери тип\" onChange={this.onSet} value={form_edit.type}>\n\t\t\t\t\t\t\t   <option value=\"book\"  onChange={this.onSet}>По книге</option>\n\t\t\t\t\t\t\t   <option value=\"film\"  onChange={this.onSet}>По фильму</option>\n\t\t\t\t\t\t\t   <option value=\"play\"  onChange={this.onSet}>По игре</option>\n\t\t\t\t\t\t\t   <option value=\"other\"  onChange={this.onSet}>Другое</option>\n\t\t\t\t\t\t   </Select>\n\t\t\t\t\t\t  </FormLayoutGroup>\n\n\t\t\t\t\t\t  <FormLayoutGroup top=\"Описание\">\n\t\t\t\t\t\t\t  <Textarea name='description' onChange={this.onSet} value={form_edit.description}/>\n\t\t\t\t\t\t  </FormLayoutGroup>\n\t\t\t\t\t\t  <Button onClick={this.save_story} size=\"xl\">Сохранить</Button>\n                   </FormLayout>\n\t\t\t\t   </ModalPage>\n\n\t\t\t\t   <ModalPage id=\"create_route\" header={<ModalPageHeader right={<Div><Icon24Dismiss onClick={() =>this.setState({activeModal:null})} /></Div>}>Создание route</ModalPageHeader>} onClose={()=>this.setState({activeModal:null})} dynamicContentHeight>\n                     <FormLayout>\n                     {this.check_lenght_answer() ? \n\t\t\t\t\t <FormStatus mode='error' header='Неккоректная длина ответа'>\n                      Ответ не может быть пустым или длиннее 40 символов\n\t\t\t\t\t </FormStatus>:null}\n\t\t\t\t\t <FormLayoutGroup top=\"Фото\" align=\"center\">\n\t\t\t\t\t\t  {form.img == null ? null :\n\t\t\t\t\t\t  <div>\n\t\t\t\t\t\t  <Avatar src={form.img} size={72} mode='image'/>\n\t\t\t\t\t\t  <Button mode=\"destructive\" style={{margin:5}} onClick={()=>this.setState({form:{...form, img:null}})}><Icon24Dismiss /></Button>\n\t\t\t\t\t\t  </div>\n\t\t                  }\n\n\t\t\t\t\t\t  <File id='image_route'  accept=\"image/jpeg,image/png\" mode='outline' onChange={()=>this.loadImage(\"image_route\")}>Загрузить фото</File>\n\t\t\t\t\t\t  </FormLayoutGroup>\n\n\t\t\t\t\t\t <FormLayoutGroup top=\"Текст\">\n\t\t\t\t\t\t\t <Textarea name='text' onChange={this.onChange}/>\n\t\t\t\t\t\t </FormLayoutGroup>\n\t\t\t\t\t\t\t<Slider step={1} \n\t\t\t\t\t\t\t\t\tmax={3} \n\t\t\t\t\t\t\t\t\tmin={0} \n\t\t\t\t\t\t\t\t\tonChange={value => this.setState({form:{...this.state.form, count:value}})} \n\t\t\t\t\t\t\t\t\tbottom={form.count} />\n\n                            <FormLayoutGroup top=\"Ответы\">\n                               {form.count >= 1 ? <Input name=\"answer_1\" placeholder={\"1 Ответ\"}  onChange={this.onChange}/>:null}\n\t\t\t\t\t\t\t   {form.count >= 2 ? <Input name=\"answer_2\" placeholder={\"2 Ответ\"}  onChange={this.onChange}/>:null}\n\t\t\t\t\t\t\t   {form.count >= 3 ? <Input name=\"answer_3\" placeholder={\"3 Ответ\"}  onChange={this.onChange}/>:null}\n\t\t\t\t\t\t\t</FormLayoutGroup>\n\t\t\t\t       \t\n\n\t\t\t\t\t\t <Button onClick={this.create_route} disabled={form.text == null || form.text == \"\" || this.check_lenght_answer()} size=\"xl\">Создать</Button>\n\t\t\t\t\t </FormLayout>\n\t\t\t\t\t {this.state.snackbar}\n\t\t\t\t   </ModalPage>\n\n\t\t\t\t   <ModalPage id='edit_route' header={<ModalPageHeader right={<Div><Icon24Dismiss onClick={() =>this.setState({activeModal:null})}/></Div>} left={<Div><Icon28DeleteOutline onClick={this.delete_route} fill=\"var(--accent)\"/></Div>}>Редактирование</ModalPageHeader>} onClose={()=>this.setState({activeModal:null})} dynamicContentHeight>\n\t\t\t\t   <FormLayout>\n\t\t\t\t\t \n\t\t\t\t\t <FormLayoutGroup align=\"center\">\n\t\t\t\t\t   {form_edit.img == 1 ? <div>\n\t\t\t\t\t\t   <Avatar src={form_edit.new_img == null ? url_photo+form_edit.project_id+'_'+form_edit.id+'.png': form_edit.new_img} size={120} mode='image'/>\n\t\t\t\t\t\t   <Button mode=\"destructive\" style={{margin:5}} onClick={()=>this.setState({form_edit:{...form_edit, img:0}})}><Icon24Dismiss /></Button>\n\t\t\t\t\t\t   </div>:null}\n\t\t\t\t\t  \n\t\t\t\t\t   <File id='image_editor' accept=\"image/jpeg,image/png\" mode='outline' onChange={this.loadImageEditor}>Загрузить фото</File>\n\t\t\t\t\t</FormLayoutGroup>\n\t\t\t\t\t\t <FormLayoutGroup top=\"Текст\">\n\t\t\t\t\t\t\t <Textarea name='text' onChange={this.onSet} value={form_edit.text}/>\n\t\t\t\t\t\t </FormLayoutGroup>\n\n\t\t\t\t\t\n\t\t\t\t\t\t\t<Slider step={1} \n\t\t\t\t\t\t\t\t\tmax={3} \n\t\t\t\t\t\t\t\t\tmin={0} \n\t\t\t\t\t\t\t\t\tvalue={form_edit.count}\n\t\t\t\t\t\t\t\t\tonChange={value => this.setState({form_edit:{...this.state.form_edit, count:value}})} \n\t\t\t\t\t\t\t\t\tbottom={form_edit.count} />\n\n                            <FormLayoutGroup top=\"Ответы\">\n                               {form_edit.count >= 1 ? <Input name=\"answer_1\" placeholder={\"1 Ответ\"} value={form_edit.answer_1} onChange={this.onSet}/>:null}\n\t\t\t\t\t\t\t   {form_edit.count >= 2 ? <Input name=\"answer_2\" placeholder={\"2 Ответ\"} value={form_edit.answer_2} onChange={this.onSet}/>:null}\n\t\t\t\t\t\t\t   {form_edit.count >= 3 ? <Input name=\"answer_3\" placeholder={\"3 Ответ\"} value={form_edit.answer_3} onChange={this.onSet}/>:null}\n\t\t\t\t\t\t\t</FormLayoutGroup>\n\t\t\t\t       \t\n\n\t\t\t\t\t\t <Button onClick={this.save_edit_route} size=\"xl\">Сохранить</Button>\n\t\t\t\t\t </FormLayout>\n\t\t\t\t   </ModalPage>\n\t\t\t\n                   <ModalPage id='filtres' header={<ModalPageHeader           left={osname != IOS && <PanelHeaderButton  onClick={()=>this.setState({activeModal:null})}><Icon24Dismiss /></PanelHeaderButton>}\n                                                                              right={<PanelHeaderButton onClick={this.get_search_by_filter}>{osname == IOS ? 'Готово' : <Icon24Done />}</PanelHeaderButton>}>Фильтры</ModalPageHeader>} onClose={()=>this.setState({activeModal:null})}>\n\t\t\t\t<FormLayout>\t   \n\t\t\t\t   <FormLayoutGroup top=\"Фандом\">\n\t\t\t\t\t\t  <SelectMimicry onClick={()=>{this.setState({activeView:'fandom'}); this.get_fandoms(0)}} placeholder=\"Не выбран\" >{form.fandom}</SelectMimicry>\n\t\t\t\t\t\t  </FormLayoutGroup>\n\n\t\t\t\t\t\t  <FormLayoutGroup top=\"Тип\">\n                           <Select name=\"filter_type\" placeholder=\"Выбери тип\" onChange={this.on} value={this.state.filter_type}>\n\t\t\t\t\t\t\t   <option value=\"book\"  onChange={this.on}>По книге</option>\n\t\t\t\t\t\t\t   <option value=\"film\"  onChange={this.on}>По фильму</option>\n\t\t\t\t\t\t\t   <option value=\"play\"   onChange={this.on}>По игре</option>\n\t\t\t\t\t\t\t   <option value=\"other\"   onChange={this.on}>Другое</option>\n\t\t\t\t\t\t   </Select>\n\t\t\t\t\t\t  </FormLayoutGroup>\n\t\t\t\t\t\t  <Button onClick={() => this.setState({filter_type:\"\", form:{...form,fandom:\"\"}, offset_all_story:0})} mode=\"destructive\" size=\"xl\">Сбросить</Button>\n\t\t\t\t</FormLayout>\t\t  \n\t\t\t\t   </ModalPage>\n\t\t\t   </ModalRoot>\n\t\t   }>\n\t\t\t   <Panel id=\"main\">\n\t\t\t\t   {activeTab === 'creator' ? \n\t\t\t\t   <PanelHeaderSimple left={<PanelHeaderButton onClick={()=>this.setState({activeModal:'create_story'})}><Icon28AddOutline /></PanelHeaderButton>}>Редактор историй</PanelHeaderSimple>:\n\t\t\t\t   <PanelHeaderSimple>Истории в ВК</PanelHeaderSimple>\n\t\t\t\t   }\n\t\n\n\t\t\t\t   <Tabs>\n\t\t\t\t\t   <TabsItem selected={activeTab === 'user'} onClick={()=>this.setState({activeTab: 'user'})}>Пользватель</TabsItem>\n\t\t\t\t\t   <TabsItem selected={activeTab === 'creator'} onClick={()=>this.setState({activeTab: 'creator'})}>Создатель</TabsItem>\n\t\t\t\t   </Tabs>\n\n\t\t\t\t   {activeTab === 'creator' ? \n\t\t\t\t   <Div>\n\t\t\t\t\t  {this.state.create_story == null ? <Spinner size=\"large\" style={{color:\"var(--accent)\", marginTop:'40%'}}/>:\n\t\t\t\t\t  <div>\n\t\t\t\t\t\t{this.state.create_story.data.length == 0 ? <Placeholder header=\"У вас нет\" action={<Button size=\"l\" onClick={()=>this.setState({activeModal:'create_story'})}>Создать историю</Button>}>созданных историй</Placeholder>:\n\t\t\t\t\t\t<div>\n\t\t\t\t    <List>\n\t\t\t\t\t\t{this.state.create_story.data.map((data)=>\n\t\t\t\t\t\t\t<Cell key={data.story_id} before={<Avatar src={data.img} type=\"image\"/>} onClick={()=>this.load(data.project_id, data.watch)} indicator={data.project_id}>{data.name}</Cell>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</List>\n\t\t\t\t\t{this.state.create_story.bool ?\n\t\t\t\t\t<Button size=\"xl\" onClick={this.get_my_projects}>Показать еще</Button>:null}\n\t\t\t\t\t</div>\n\t                }\n\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\t</Div>:\n\t\t\t\t\t<div>\n\t\t\t\t\t{this.state.all_story == null ? <Spinner size=\"large\" style={{color:\"var(--accent)\", marginTop:'40%'}}/>:\n\t\t\t\t\t<div>\n                    <CardGrid>\n\t\t\t\t\t\t<Search  icon={<Icon24Filter />}  \n\t\t\t\t\t\t\t\t onChange={this.onChangeSearchProject}\n\t\t\t\t\t\t\t\t value={this.state.string}\n\t\t\t\t\t\t         onIconClick={() => this.setState({ activeModal: 'filtres' })} />\n\t\t\t\t\t\t{this.state.all_story.data.map(story =>\t\n\t                       <Card size='l'>\n\t\t\t\t\t\t\t   <div align='center'>\n\t\t\t\t\t\t\t    <Header aside={<Counter mode='secondary'>{story.project_id}</Counter>}></Header>\n\t\t\t\t\t\t\t\t<Avatar src={story.img} size={100} style={{marginTop:10}} mode='image'/>\n\t\t\t\t\t\t         <h1 style={{fontSize:30, fontWeight: 'bold',margin:15}}>{story.name}</h1>\n\t\t\t\t\t\t\t\t <span>{story.description}</span><br />\n\t\t\t\t\t\t         <Div style={{padding:5}}>\n\t\t\t\t\t\t\t\t <Avatar src={story.photo_200} />\n\t\t\t\t\t\t         <Link href={story.url}>{story.user}</Link>\n\t\t\t\t\t\t\t\t </Div>\n\t                              <Div>\n\t\t\t\t\t\t\t\t\t  <Button size='l' mode='outline' onClick={()=>this.goTo(story.project_id)} href={\"https://vk.com/im?sel=-123568924\"}>Начать</Button>\n\t\t\t\t\t\t\t\t  </Div>\n\t\t\t\t\t\t\t   </div>\n\t\t\t\t\t\t   </Card>\n\t\t\t\t\t\t\t)}\n                      \n\t\t\t\t\t</CardGrid>\n\t\t\t\t\t{this.state.all_story.more ? <Div><Button size='xl' onClick={this.get_more_story} style={{marginTop:5}}>Показать еще</Button></Div>:null}\n\t\t\t\t\t</div>\n\t                }\n\t\t\t\t\t</div>\n\t\t\t\t   }\n                 {this.state.snackbar}\n\t\t\t   </Panel>\n\t\t\t   <Panel id='tree_story'>\n                  <PanelHeaderSimple left={\n\t\t\t\t  <React.Fragment>\n\t\t\t\t\t  <PanelHeaderBack onClick={()=>this.setState({activePanel:'main',tree_story:null, offset_tree:0})}/>\n                      <PanelHeaderButton onClick={this.go_menu}><Icon28SettingsOutline /></PanelHeaderButton>\n\t\t\t\t  </React.Fragment>}>Дерево истории</PanelHeaderSimple>\n\t\t\t\t  {this.state.tree_story == null ? <Spinner size=\"large\" style={{color:\"var(--accent)\", marginTop:'40%'}}/>:\n\t\t\t\t  <Div>\n\t\t\t\t{this.state.tree_story.data.length == 0 ? <Placeholder header=\"Начните\" action={<Button size='l' onClick={()=>this.setState({activeModal:'create_route'})} mode='commerce'>Создать первый роут</Button>}>с чистого листа</Placeholder>:\n\t\t\t\t<div>\n\t\t\t\t\t  <CellButton onClick={()=>this.setState({activeModal:'create_route'})} before={<Icon24Add />} align=\"center\">Добавить</CellButton>\n\t\t\t\t  <CardGrid>\n\t\t\t\t\t <div> \n\t\t\t\t   {this.state.tree_story.data.map((data, i)=>\n\t\t\t\t      <Card size='l'>\n                         <div align='center'>\n\t\t\t\t\t\t\n\t\t\t\t\t\t  <Header aside={<Icon28EditOutline style={{top:5}} onClick={()=>this.setState({form_edit:this.state.tree_story.data[i], activeModal:'edit_route'})}/>}>{\"route_id: \"+data.id}</Header>\n\t\t\t\t\t\t  {data.img == 1 ? <Avatar src={url_photo+data.project_id+'_'+data.id+'.png'} mode='image'/>:null}\n\t\t\t\t          <p style={{textAlign:'center', fontSize:20, padding:10, margin:0, fontWeight:'bold'}}>{data.text}</p>\n\t\t\t\t\t\t  {data.count >= 1 ? <Answer answer={data.answer_1} next={data.next_1} go={()=>this.setState({activeView:'routes', current_route:data.id, current_next:1})}/>:null}\n\t\t\t\t\t\t  {data.count >= 2 ? <Answer answer={data.answer_2} next={data.next_2} go={()=>this.setState({activeView:'routes', current_route:data.id, current_next:2})}/>:null}\n\t\t\t\t\t\t  {data.count >= 3 ? <Answer answer={data.answer_3} next={data.next_3} go={()=>this.setState({activeView:'routes', current_route:data.id, current_next:3})}/>:null}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t  </Card>\n\t\t\t\t   )}\n\n\t\t\t\t   </div>\n\t                   \n\t\t\t\t  </CardGrid>\n\t\t\t\t  {this.state.tree_story.bool?\n\t\t\t\t  <Div>\n\t\t\t\t   <Button size='xl'  onClick={this.loadOffset}>{this.state.load ? <Spinner />:\"Показать еще\"}</Button>\n\t\t\t\t  </Div> \n\t\t\t\t   :null\n\t\t\t\t   }\n\t\t\t\t  </div>\n\t\t\t\t   }\n\t\t\t\t  </Div>\n\t            }\n\t\t\t\t{this.state.snackbar}\n\t\t\t   </Panel>\n\n\t\t\t   <Panel id=\"settings\">\n                  <PanelHeaderSimple left={\n\t\t\t\t  <React.Fragment>\n\t\t\t\t\t  <PanelHeaderBack onClick={()=>this.setState({activePanel:'main'})}/>\n\t\t\t\t\t  <PanelHeaderButton><Icon28WriteOutline /></PanelHeaderButton>\n\t\t\t\t  </React.Fragment>}>Настройки</PanelHeaderSimple>\n\t\t\t\t  {this.state.settings == null ? <Spinner size=\"large\" style={{color:\"var(--accent)\", marginTop:'40%'}}/>:\n                  <FormLayout>\n\t\t\t\t\t  <FormLayoutGroup>\n\t\t\t\t\t\t  <Cell asideContent={<Switch defaultChecked={this.state.settings.watch == 1}/>}>Видимость</Cell>\n\t\t\t\t\t  </FormLayoutGroup>\n\t\t\t\t  </FormLayout>\n\t               }\n\t\t\t   </Panel>\n\t\t   </View>\n\n\t\t   <View id=\"fandom\" header={false} activePanel=\"fandom\">\n\t\t\t <Panel id=\"fandom\" seperator={false}>\n\t\t      <PanelHeaderSimple seperator={false} left={<PanelHeaderBack onClick={()=>this.setState({activeView:'main', page:0,q:null})}/>}>Выбор фандома</PanelHeaderSimple>\n\t\t\t  {this.state.fandoms == null ? <Spinner size=\"large\" style={{color:\"var(--accent)\", marginTop:'40%'}} />:\n\t\t       <Group>\n                 <List>\n\t\t\t\t   <Search onChange={this.onChangeSearch} name='q'/>\n\t\t\t\t   {this.state.fandoms.data.map((data)=>\n\t\t\t\t\t <Cell key={data.id} \n\t\t\t\t\t       onClick={()=>this.setState({activeView:'main',q:null,page:0, form:{...this.state.form, fandom:data.name, offset_all_story:0}})}\n\t\t\t\t\t\t   asideContent={this.state.form.fandom === data.name ? <Icon24Done fill=\"var(--accent)\" /> : null}>{data.name}</Cell>\n\t\t\t\t )}\n                 </List>\n\t\t\t\t {this.state.fandoms.bool == true ? \n\t\t\t\t <Div>\n\t\t\t\t <Button size='xl' onClick={()=>this.get_fandoms(1)}>Показать еще</Button>\n\t\t\t\t </Div>:null}\n\t\t\t   </Group>\n\t\t\t\t   }\n\t\t\t  </Panel>  \n\t\t   </View>\n\n\t\t   <View id=\"routes\" activePanel=\"routes\" header={false}>\n\t\t\t   <Panel id=\"routes\">\n                 <PanelHeaderSimple left={<PanelHeaderBack onClick={()=>this.setState({activeView:'main'})}/>}>rotes</PanelHeaderSimple>\n\t\t\t\t {this.state.tree_story == null ? <Spinner size=\"large\" style={{color:\"var(--accent)\", marginTop:'40%'}} />:\n\t\t\t\t <div>\n\t\t\t\t <List>\n\t\t\t\t\t {this.state.tree_story.data.map((res)=>\n\t\t\t\t\t <Cell before={<Avatar>{res.id}</Avatar>} onClick={()=>this.setNext(res.id)}>{res.text}</Cell>\n\t\t\t\t\t )}\n\t\t\t\t </List>\n\t\t\t\t {this.state.tree_story.bool?\n\t\t\t\t  <Div>\n\t\t\t\t   <Button size='xl'  onClick={this.loadOffset}>{this.state.load ? <Spinner />:\"Показать еще\"}</Button>\n\t\t\t\t  </Div> \n\t\t\t\t   :null\n\t\t\t\t   }\n\t\t\t\t </div>\n\t           }\n\t\t\t  \n\t\t\t   </Panel>\n\t\t   </View>\n\t\t</Root>   \n\t   )}\n}\n\nexport default App;\n\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n"],"sourceRoot":""}